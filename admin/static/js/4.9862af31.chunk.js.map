{"version":3,"sources":["../node_modules/reactstrap/es/Row.js","modules/file-manager/file-manager-modal.tsx","modules/products/components/product-images.tsx","modules/products/components/categories/product-categories.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","modules/products/components/categories/product-categories-modal.tsx","modules/products/components/categories/use-product-categories.ts","modules/products/components/categories/category-paths.tsx","modules/products/components/product-tabs/product-tab-general.tsx","modules/products/components/attribute-form.tsx","modules/products/product-page.tsx","../node_modules/reactstrap/node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/reactstrap/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/reactstrap/es/utils.js","modules/file-manager/use-file-manager.ts","modules/file-manager/modal-file-uploader.tsx","modules/file-manager/file-box.tsx","modules/file-manager/file-browser.tsx","modules/file-manager/file-browser-menu.tsx","modules/file-manager/file-manage-core.tsx","../node_modules/reactstrap/es/Col.js"],"names":["rowColsPropType","PropTypes","oneOfType","number","string","propTypes","tag","tagPropType","noGutters","bool","className","cssModule","object","form","xs","sm","md","lg","xl","defaultProps","widths","Row","props","Tag","attributes","_objectWithoutPropertiesLoose","colClasses","forEach","colWidth","i","colSize","isXs","push","classes","mapToCssModules","classNames","React","createElement","_extends","FileManagerModal","show","onClose","onSelectFile","RootModal","shown","Header","title","Body","selectable","styled","Modal","ProductImages","useState","addImage","setAddImage","files","setFiles","item","useDataPage","images","useMemo","map","img","default","_images","_setImages","useEffect","Col","style","paddingLeft","Actions","outline","onClick","aria-hidden","length","file","prev","url","Url","ImageViewer","mainImage","find","items","filter","t","id","ViewerRoot","main","key","ImageItem","hovering","setHovering","onHovering","value","ItemRoot","onMouseEnter","onMouseLeave","Icon","left","IconSearch","Image","src","alt","Overlay","div","top","ProductCategories","category_index","onCheck","onUncheck","getCategories","useCategories","categories","setCategories","selection","setSelection","then","data","_selection","cat","expandedIds","c","onLabel","row","name","_toPropertyKey","arg","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","String","Number","ProductCategoriesModal","useFormikContext","values","setValues","setData","isDirty","isEqual","sort","node","ids","rest","onSave","useProductCategoriesField","Footer","color","CategoryPaths","cats","setCats","showCats","setShowCats","fetchCategories","a","H2","size","paths","product_cat","start","path","stack","index","pop","Li","CatName","href","e","preventDefault","classnames","parent","p","parent_id","buildPath","aria-label","Ol","empty","buildPaths","ol","padding","h2","ProductTabGeneral","handleSubmit","useProductDetailsForm","onSubmit","onTitle","label","PricingHeader","PricingContent","updateItem","fetchData","useFetchData","updateCategories","dest","newCats","some","_id","delCats","Promise","all","config","apiSwell","method","body","product_id","resolve","success","AttributesForm","initialValues","ProductPage","model","active","sale","Tab","Object","assign","target","arguments","source","prototype","hasOwnProperty","apply","this","excluded","sourceKeys","keys","indexOf","globalCssModule","split","join","Element","window","func","propName","componentName","Error","shape","current","any","$$typeof","symbol","render","arrayOf","document","isObject","type","useFileManager","showModalUploader","setShowModalUploader","showEmbeddedUploader","setShowEmbeddedUploader","useSafeState","folders","browserInfo","setBrowserInfo","getDisplay","browseFolder","folder","apiAssets","sortBy","d","Display","Key","f","toggleShowUploader","handleShowUploader","ModalFileUploader","FileBox","RootFileBox","FileName","alert","moment","LastModified","format","border","FileBrowser","FileBrowserMenu","displayUploader","block","FileManagerCore","onCancel","EmbeddedUploader","embedded","stringOrNumberProp","columnProps","order","offset","array","getColumnSizeClass","columnProp","_classNames","colSizeInterfix","colClass","_colClass"],"mappings":"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","file":"static/js/4.9862af31.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar rowColWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar rowColsPropType = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar propTypes = {\n  tag: tagPropType,\n  noGutters: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  form: PropTypes.bool,\n  xs: rowColsPropType,\n  sm: rowColsPropType,\n  md: rowColsPropType,\n  lg: rowColsPropType,\n  xl: rowColsPropType\n};\nvar defaultProps = {\n  tag: 'div',\n  widths: rowColWidths\n};\n\nvar Row = function Row(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      noGutters = props.noGutters,\n      Tag = props.tag,\n      form = props.form,\n      widths = props.widths,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"noGutters\", \"tag\", \"form\", \"widths\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var colSize = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!colSize) {\n      return;\n    }\n\n    var isXs = !i;\n    colClasses.push(isXs ? \"row-cols-\" + colSize : \"row-cols-\" + colWidth + \"-\" + colSize);\n  });\n  var classes = mapToCssModules(classNames(className, noGutters ? 'no-gutters' : null, form ? 'form-row' : 'row', colClasses), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nRow.propTypes = propTypes;\nRow.defaultProps = defaultProps;\nexport default Row;","import React from 'react';\nimport styled from 'styled-components';\nimport { Modal } from 'library/components';\nimport { FileManagerCore } from './file-manage-core';\nimport { FileManagerModalProps as Props } from './types';\n\nexport const FileManagerModal = ({ show, onClose, onSelectFile }: Props) => (\n  <RootModal shown={show} onClose={onClose} >\n    <Modal.Header title=\"File manager\" />\n    <Modal.Body className=\"body-row row\">\n      <FileManagerCore selectable onSelectFile={onSelectFile}/>\n    </Modal.Body>\n  </RootModal>\n);\n\nconst RootModal = styled(Modal)`\n  .body-row {\n    margin: 0px !important;\n  }\n`;","import React, { useState, useEffect, useMemo } from 'react';\nimport {Col} from 'reactstrap';\nimport styled from 'styled-components';\nimport { Button } from 'library/components';\nimport { useDataPage } from 'library/components/data-page';\nimport { FileManagerModal } from 'modules/file-manager/file-manager-modal';\nimport { File } from 'modules/file-manager/types';\nimport { ProductItem, ProductImage } from '../types';\n\nexport const ProductImages = () => {\n  const [addImage, setAddImage] = useState(false);\n  const [files, setFiles] = useState<any[]>([]);\n  const { item } = useDataPage<ProductItem>();\n\n  const images = useMemo(() => item.images?.map((img, i) => ({\n    ...img,\n    default: i === 0,\n  })), [item.images]);\n\n  const [_images, _setImages] = useState<ProductImage[]>(images || []);\n\n  const handleSelectFiled = (file: File) => {\n    setFiles(files => [...files, file]);\n    _setImages(prev => [...prev, {\n      file: {\n        url: file.Url\n      } as any\n    } as any])\n    setAddImage(false);\n  }\n\n  useEffect(() => {\n    setAddImage(false);\n  }, [files]);\n\n  useEffect(() => {\n    _setImages(images || []);\n  }, [images])\n\n  return (\n    <div className=\"produc-images\">\n\n      <h2 className='text-success mb-3'>Images</h2>\n      \n      <Col lg={12} style={{ paddingLeft: 0 }}>\n        \n        <Actions>\n          <Button outline onClick={() => setAddImage(true)} >\n            <i className=\"fa fa-cloud-download mr-2\" aria-hidden=\"true\"></i>\n            <span>Add image</span>\n          </Button>\n        </Actions>\n      \n      </Col>\n\n      <br />\n      \n      {_images.length ? <ImageViewer images={_images} /> : <></>}\n\n      {addImage && <FileManagerModal show onClose={() => setAddImage(false)} onSelectFile={handleSelectFiled} />}\n    \n    </div>\n  )\n};\n\ntype ImageViewerProps = {\n  images: ProductImage[];\n}\nconst ImageViewer = ({ images }: ImageViewerProps) => {\n  const mainImage = images.find(img => img.default) ?? images[0];\n  const items = images.filter(t => t.id !== mainImage.id);\n\n  return (\n    <ViewerRoot>\n      <div className=\"main\">\n        <ImageItem main item={mainImage} />\n      </div>\n      <div className=\"items\">\n        {items.map((t, i) => <ImageItem key={i} item={t} />)}\n      </div>\n    </ViewerRoot>\n  )\n}\n\ntype ImageItemProps = {\n  main?: boolean;\n  item: ProductImage;\n}\nconst ImageItem = ({ item, main }: ImageItemProps) => {\n  const [hovering, setHovering] = useState(false);\n  const onHovering = (value: boolean) => () => setHovering(value);\n\n  return (\n    <ItemRoot main={main} onMouseEnter={onHovering(true)} onMouseLeave={onHovering(false)} >\n      {!main && <Icon hovering={hovering} left=\"10px\" className=\"fa fa-heart\"/>}\n      <Icon hovering={hovering} left={main ? \"180px\" : \"120px\"} className=\"fa fa-trash\" />\n      <IconSearch hovering={hovering} className=\"fa fa-search fa-2x\" />\n\n      <Image className=\"img-thumbnail\" src={item.file.url} alt=\"item\" />\n      \n      <Overlay hovering={hovering} className=\"overlay\" />\n      \n    </ItemRoot>\n  )\n}\n\ntype HoveringProps = {\n  hovering?: boolean;\n  main?: boolean;\n  left?: string;\n  top?: string;\n}\n\nconst ViewerRoot = styled.div`\n  display: grid;\n  column-gap: 40px;\n  grid-template-columns: 200px 1fr;\n  grid-template-areas: \"main items\";\n  .main {\n    grid-area: main;\n  }\n  .items {\n    grid-area: items;\n    display: grid;\n    column-gap: 5px;\n    row-gap: 10px;\n    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));\n  }\n`;\n\nconst Actions = styled.div`\n  display: flex;\n`;\n\nconst ItemRoot = styled.div<{ main?: boolean }>`\n  position: relative;\n  cursor: pointer;\n  transition: all 0.3s;\n  width: ${({ main }) => main ? '100%' : '140px' };\n  height: ${({ main }) => main ? '200px' : '140px' };\n  overflow: hidden;\n  border-radius: 4px;\n  \n`;\n\nconst Image = styled.img`\n  width: 100%;\n  height: 100%;\n`;\n\nconst Overlay = styled.div<HoveringProps>`\n  transition: all 0.3s;\n  opacity: ${({ hovering }) => hovering ? 0.3 : 0};\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: gray;\n  z-index: 10;\n`;\n\nconst Icon = styled.i<HoveringProps>`\n  position: absolute;\n  left: ${({ left }) => left};\n  top: ${({ top }) => top ?? \"5px\"};\n  opacity: ${({ hovering }) => hovering ? 1 : 0.1};\n  color: ${({ hovering }) => hovering && 'white'};\n  z-index: 11;\n`;\n\nconst IconSearch = styled(Icon)`\n  left: 50% !important;\n  top: 50% !important;\n  transform: translate(-50%, -50%) !important;\n`;","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-loop-func */\nimport React, { useState, useEffect } from 'react';\nimport { CheckableHierarchy } from 'library/components';\nimport { useCategories, Category } from 'library/common/categories';\n\ntype CategoryHierarchyProps = {\n  category_index: string[];\n  onCheck: (node: Category) => void;\n  onUncheck: (node: Category) => void;\n}\nexport const ProductCategories = ({ category_index, onCheck, onUncheck }: CategoryHierarchyProps) => {\n  const { getCategories } = useCategories();\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [selection, setSelection] = useState<Category[]>([]);\n\n  useEffect(() => {\n    getCategories().then(data => setCategories(data));\n  }, []);\n\n  useEffect(() => {\n    const _selection = categories.filter(cat => category_index.find(id => id === cat.id));\n    setSelection(_selection);\n  }, [category_index, categories]);\n\n  return (\n    <CheckableHierarchy<Category>\n      data={categories}\n      selection={selection}\n      expandedIds={categories.map(c => c.id)}\n      onCheck={onCheck}\n      onUncheck={onUncheck}\n      onLabel={({ row: { name } }) => name}\n    />\n  )\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport toPrimitive from \"./toPrimitive\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"../../helpers/esm/typeof\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-loop-func */\nimport React from 'react';\nimport { Modal, Button } from 'library/components';\nimport { ProductCategories } from './product-categories';\nimport { useProductCategoriesField } from './use-product-categories';\nimport { ProductCategoryModalProps } from './types';\n\nexport const ProductCategoriesModal = ({ shown, onClose }: ProductCategoryModalProps) => {\n  const { category_index, onCheck, onUncheck, isDirty, onSave } = useProductCategoriesField({ onClose });\n\n  return (\n    <Modal shown={shown} onClose={onClose}>\n\n      <Modal.Header title=\"Categories\" />\n\n      <Modal.Body>\n        <ProductCategories\n          category_index={category_index}\n          onCheck={onCheck}\n          onUncheck={onUncheck}\n        />\n      </Modal.Body>\n\n      <Modal.Footer>\n        <Button color='warning' outline className=\"mr-2\" onClick={onClose}>Close</Button>\n        <Button color={isDirty ? 'primary' : 'white'} onClick={onSave}>Save changes</Button>\n      </Modal.Footer>\n    </Modal>\n  )\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-loop-func */\nimport { useState, useMemo } from 'react';\nimport { useFormikContext } from 'formik';\nimport { isEqual } from 'lodash';\nimport { Category } from 'library/common/categories';\nimport { ProductItem } from '../../types';\nimport { UseProductCategoryModalProps } from './types';\n\nexport const useProductCategoriesField = ({ onClose }: UseProductCategoryModalProps) => {\n  const { values, setValues } = useFormikContext<ProductItem>();\n  const [data, setData] = useState<ProductItem>(values);\n\n  const onCheck = (node: Category) => {\n    const ids = [...(data?.category_index?.id ?? []), node.id];\n    const sort = { ...data?.category_index?.sort, [node.id]: 0, };\n    setData({\n      ...data,\n      category_index: {\n        ...data.category_index,\n        sort,\n        id: ids,\n      }\n    });\n  }\n\n  const onUncheck = (node: Category) => {\n    const ids = (data?.category_index?.id ?? []).filter(id => id !== node.id);\n    const { [node.id]: id, ...rest } = data?.category_index?.sort ?? {};\n    setData({\n      ...data,\n      category_index: {\n        ...data.category_index,\n        sort: rest,\n        id: ids,\n      }\n    })\n  }\n\n  const category_index = useMemo(() => data?.category_index?.id ?? [], [data]);\n  const isDirty = useMemo(() => !isEqual(values?.category_index?.id.sort(), data?.category_index?.id.sort()), [values.category_index, data]);\n\n  const onSave = () => {\n    if (isDirty) {\n      setValues(data);\n      onClose();\n    }\n  }\n\n  return {\n    onCheck,\n    onUncheck,\n    onSave,\n    isDirty,\n    category_index,\n  }\n}","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport classnames from 'classnames';\nimport styled from 'styled-components';\nimport { useFormikContext } from 'formik';\nimport { useCategories, Category } from 'library/common/categories';\nimport { Button } from 'library/components';\nimport { ProductCategoriesModal } from './product-categories-modal';\n\nimport { ProductItem } from '../../types';\n\nexport const CategoryPaths = () => {\n  const { getCategories } = useCategories();\n  const [cats, setCats] = useState<Category[]>([]);\n  const [showCats, setShowCats] = useState(false);\n  const { values } = useFormikContext<ProductItem>();\n\n  const buildPath = (start: Category, cats: Category[]) => {\n    let path: any = [];\n    let stack = [start];\n    let index = 0;\n    do {\n      const cat = stack.pop();\n      const Li = <li key={cat?.name} className=\"breadcrumb-item\">\n        <CatName href=\"#\" onClick={(e: any) => {\n          e.preventDefault();\n          setShowCats(true);\n        }} className={classnames({ \"text-primary\": index === 0 })} >\n          <span>{cat?.name}</span>\n        </CatName>\n      </li>\n      path = [Li, ...path];\n      const parent = cats.find(p => p.id === cat?.parent_id);\n      if (parent) {\n        index += 1;\n        stack = [parent];\n      }\n    } while (stack.length);\n    return path;\n  }\n\n  const fetchCategories = async () => {\n    const cats = await getCategories();\n    setCats(cats);\n  }\n\n  const buildPaths = () => {\n    const product_cats = cats.filter(cat => values?.category_index?.id.find(id => id === cat.id));\n    const paths = product_cats.map(product_cat => buildPath(product_cat, cats));\n    return (\n      <>\n        {paths.map((path, i) => (\n          <nav key={i} aria-label=\"breadcrumb\">\n            <Ol className=\"mb-4\">\n              {path}\n            </Ol>\n          </nav>\n        ))}\n        {!paths.length && (\n          <nav aria-label=\"breadcrumb\">\n            <Ol className=\"mb-4\" empty />\n          </nav>\n        )}\n      </>\n    )\n  }\n\n  useEffect(() => {\n    fetchCategories();\n  }, [values.category_index]);\n\n  return (\n    <>\n      <H2 className='text-success mb-3'>\n        <span>Categories</span>\n        <Button color=\"link\" size=\"sm\" onClick={() => setShowCats(true)} className=\"ml-3 text-muted\">edit</Button>\n      </H2>\n      {showCats && <ProductCategoriesModal shown={true} onClose={() => setShowCats(false)} />}\n      {buildPaths()}\n    </>\n  )\n}\n\nconst CatName = styled.a`\n  font-size: 16px;\n`;\n\nconst Ol = styled.ol<{ empty?: boolean }>`\n  display: flex;\n  flex-wrap: wrap;\n  padding: .75rem 1rem;\n  margin-bottom: 1rem;\n  list-style: none;\n  background-color: #e9ecef;\n  border-radius: .25rem;\n  .breadcrumb-item {\n    &:not(:first-child) {\n      &:before {\n        display: inline-block;\n        padding-right: .5rem;\n        color: #6c757d;\n        content: \"/\";\n      }\n    }\n  }\n  ${({ empty }) => empty ? {\n    padding: '1.4rem'\n  } : {}}\n`;\n\nconst H2 = styled.h2`\n  display: flex;\n  align-items: center;\n  .btn-link {\n    padding: 0px;\n    margin-top: 8px;\n  }\n`;","/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react';\nimport { Row, Col } from 'reactstrap';\nimport styled from 'styled-components';\nimport { useFetchData } from 'library/common';\nimport { TextField, SwitchField, DataFormPage, useDataPage, DataPageTitle, CurrencyField } from 'library/components';\nimport { ProductImages } from '../product-images';\nimport { CategoryPaths } from '../categories';\nimport { config } from 'config';\n\nimport 'react-alice-carousel/lib/alice-carousel.css';\nimport { ProductItem } from '../../types';\nimport { FetchResult } from 'library/common/fetch-data/types';\n\nexport const ProductTabGeneral = () => {\n  const { handleSubmit } = useProductDetailsForm();\n\n  return (\n    <DataFormPage<ProductItem> title=\"General\" onSubmit={handleSubmit} >\n\n      <DataPageTitle<ProductItem> onTitle={(item) => item.name} />\n\n      <br />\n\n      <Row>\n\n        <Col lg={12}>\n          <TextField name=\"name\" label=\"Name\" />\n        </Col>\n\n        <Col lg={12} className=\"mb-3\">\n          <SwitchField label=\"Active\" name=\"active\" />\n        </Col>\n\n        <Col lg={12} className=\"mb-3\">\n\n          <PricingHeader>\n            <h2 className='text-success title'>Pricing</h2>\n            <div className=\"on-sale\" >\n              <SwitchField label=\"On sale\" name=\"sale\" />\n            </div>\n            <div className=\"sub-text text-muted\">\n              Set standard and sale pricing with special price rules\n            </div>\n          </PricingHeader>\n\n          <br />\n\n          <PricingContent>\n            <CurrencyField label=\"Sale price\" name=\"sale_price\" />\n            <CurrencyField label=\"Default price\" name=\"price\" />\n            <CurrencyField label=\"Cost\" name=\"cost\" />\n          </PricingContent>\n          \n        </Col>\n\n        <Col className=\"mt-3\" lg={12}>\n          <CategoryPaths />\n        </Col>\n\n        <Col className=\"mt-3\" lg={12}>\n          <ProductImages />\n        </Col>\n\n      </Row>\n    </DataFormPage>\n  )\n}\n\nconst useProductDetailsForm = () => {\n  const { item, updateItem } = useDataPage<ProductItem>();\n  const { fetchData } = useFetchData();\n\n  const updateCategories = async (values: ProductItem): Promise<FetchResult<ProductItem>> => {\n    const dest = values.category_index?.id || [];\n    const src = item.category_index?.id || [];\n    \n    const newCats = dest.filter(id => !src.some(_id => _id === id));\n    const delCats = src.filter(id => !dest.some(_id => _id === id));\n\n    await Promise.all(newCats.map(async (id) => await fetchData({\n      url: `${config.apiSwell}/categories/${id}/products`,\n      method: 'PUT',\n      body: {\n        product_id: item.id\n      }\n    })));\n\n    await Promise.all(delCats.map(async (id) => await fetchData({\n      url: `${config.apiSwell}/products/${values.id}/categories/${id}`,\n      method: 'DELETE',\n    })));\n\n    return Promise.resolve({\n      success: true,\n      data: {} as any\n    });\n  }\n\n  const handleSubmit = async (values: ProductItem) => {\n    return updateItem(values).then(() => updateCategories(values));\n  }\n\n  return {\n    handleSubmit,\n  }\n}\n\nconst PricingHeader = styled.div`\n  display: grid;\n  grid-template-areas: \n    \"title . on-sale\"\n    \"sub-text . .\";\n  .title {\n    grid-area: title;\n    margin: 0px;\n  }\n  .on-sale {\n    grid-area: on-sale;\n    justify-self: end;\n  }\n  .sub-text {\n    grid-area: sub-text\n  }\n`;\n\nconst PricingContent = styled.div`\n  display: grid;\n  justify-content: space-between;\n  column-gap: 40px;\n  grid-template-columns: repeat( auto-fit, minmax(120px, 1fr) );\n`;","import React from 'react';\nimport { DataForm } from 'library/components/data-form';\nimport { useDataPage } from 'library/components/data-page';\n\nexport const AttributesForm = () => {\n  const { item } = useDataPage();\n  return (\n    <DataForm title=\"Attributes\" initialValues={item} onSubmit={() => Promise.resolve(true)}>\n      <></>\n    </DataForm>\n  )\n}","import React from 'react';\nimport {Panel, DataPage, Tabs} from 'library/components';\nimport {ProductTabGeneral} from './components/product-tabs/product-tab-general';\nimport {AttributesForm} from './components/attribute-form';\nimport { ProductItem } from './types';\n\nexport const ProductPage = () => {\n  return (\n    <DataPage<ProductItem> \n        model='products' \n        initialValues={{name: '', active: false, sale: false} as any}\n      >\n      <Panel>\n        {/* {title && <DocumentTitle title={`products/ ${title}`} />} */}\n        <Tabs>\n          <Tabs.Tab name='general' title=\"General\">\n            <ProductTabGeneral />\n          </Tabs.Tab>\n          <Tabs.Tab name='attrs' title=\"Attributes\">\n            <AttributesForm />\n          </Tabs.Tab>\n        </Tabs>\n      </Panel>\n    </DataPage>\n  )\n};\n\nexport default ProductPage;","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import PropTypes from 'prop-types'; // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/js/src/modal.js#L436-L443\n\nexport function getScrollbarWidth() {\n  var scrollDiv = document.createElement('div'); // .modal-scrollbar-measure styles // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/scss/_modal.scss#L106-L113\n\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = '-9999px';\n  scrollDiv.style.width = '50px';\n  scrollDiv.style.height = '50px';\n  scrollDiv.style.overflow = 'scroll';\n  document.body.appendChild(scrollDiv);\n  var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarWidth;\n}\nexport function setScrollbarWidth(padding) {\n  document.body.style.paddingRight = padding > 0 ? padding + \"px\" : null;\n}\nexport function isBodyOverflowing() {\n  return document.body.clientWidth < window.innerWidth;\n}\nexport function getOriginalBodyPadding() {\n  var style = window.getComputedStyle(document.body, null);\n  return parseInt(style && style.getPropertyValue('padding-right') || 0, 10);\n}\nexport function conditionallyUpdateScrollbar() {\n  var scrollbarWidth = getScrollbarWidth(); // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.6/js/src/modal.js#L433\n\n  var fixedContent = document.querySelectorAll('.fixed-top, .fixed-bottom, .is-fixed, .sticky-top')[0];\n  var bodyPadding = fixedContent ? parseInt(fixedContent.style.paddingRight || 0, 10) : 0;\n\n  if (isBodyOverflowing()) {\n    setScrollbarWidth(bodyPadding + scrollbarWidth);\n  }\n}\nvar globalCssModule;\nexport function setGlobalCssModule(cssModule) {\n  globalCssModule = cssModule;\n}\nexport function mapToCssModules(className, cssModule) {\n  if (className === void 0) {\n    className = '';\n  }\n\n  if (cssModule === void 0) {\n    cssModule = globalCssModule;\n  }\n\n  if (!cssModule) return className;\n  return className.split(' ').map(function (c) {\n    return cssModule[c] || c;\n  }).join(' ');\n}\n/**\n * Returns a new object with the key/value pairs from `obj` that are not in the array `omitKeys`.\n */\n\nexport function omit(obj, omitKeys) {\n  var result = {};\n  Object.keys(obj).forEach(function (key) {\n    if (omitKeys.indexOf(key) === -1) {\n      result[key] = obj[key];\n    }\n  });\n  return result;\n}\n/**\n * Returns a filtered copy of an object with only the specified keys.\n */\n\nexport function pick(obj, keys) {\n  var pickKeys = Array.isArray(keys) ? keys : [keys];\n  var length = pickKeys.length;\n  var key;\n  var result = {};\n\n  while (length > 0) {\n    length -= 1;\n    key = pickKeys[length];\n    result[key] = obj[key];\n  }\n\n  return result;\n}\nvar warned = {};\nexport function warnOnce(message) {\n  if (!warned[message]) {\n    /* istanbul ignore else */\n    if (typeof console !== 'undefined') {\n      console.error(message); // eslint-disable-line no-console\n    }\n\n    warned[message] = true;\n  }\n}\nexport function deprecated(propType, explanation) {\n  return function validate(props, propName, componentName) {\n    if (props[propName] !== null && typeof props[propName] !== 'undefined') {\n      warnOnce(\"\\\"\" + propName + \"\\\" property of \\\"\" + componentName + \"\\\" has been deprecated.\\n\" + explanation);\n    }\n\n    for (var _len = arguments.length, rest = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n      rest[_key - 3] = arguments[_key];\n    }\n\n    return propType.apply(void 0, [props, propName, componentName].concat(rest));\n  };\n} // Shim Element if needed (e.g. in Node environment)\n\nvar Element = typeof window === 'object' && window.Element || function () {};\n\nexport function DOMElement(props, propName, componentName) {\n  if (!(props[propName] instanceof Element)) {\n    return new Error('Invalid prop `' + propName + '` supplied to `' + componentName + '`. Expected prop to be an instance of Element. Validation failed.');\n  }\n}\nexport var targetPropType = PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement, PropTypes.shape({\n  current: PropTypes.any\n})]);\nexport var tagPropType = PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.shape({\n  $$typeof: PropTypes.symbol,\n  render: PropTypes.func\n}), PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.shape({\n  $$typeof: PropTypes.symbol,\n  render: PropTypes.func\n})]))]);\n/* eslint key-spacing: [\"error\", { afterColon: true, align: \"value\" }] */\n// These are all setup to match what is in the bootstrap _variables.scss\n// https://github.com/twbs/bootstrap/blob/v4-dev/scss/_variables.scss\n\nexport var TransitionTimeouts = {\n  Fade: 150,\n  // $transition-fade\n  Collapse: 350,\n  // $transition-collapse\n  Modal: 300,\n  // $modal-transition\n  Carousel: 600 // $carousel-transition\n\n}; // Duplicated Transition.propType keys to ensure that Reactstrap builds\n// for distribution properly exclude these keys for nested child HTML attributes\n// since `react-transition-group` removes propTypes in production builds.\n\nexport var TransitionPropTypeKeys = ['in', 'mountOnEnter', 'unmountOnExit', 'appear', 'enter', 'exit', 'timeout', 'onEnter', 'onEntering', 'onEntered', 'onExit', 'onExiting', 'onExited'];\nexport var TransitionStatuses = {\n  ENTERING: 'entering',\n  ENTERED: 'entered',\n  EXITING: 'exiting',\n  EXITED: 'exited'\n};\nexport var keyCodes = {\n  esc: 27,\n  space: 32,\n  enter: 13,\n  tab: 9,\n  up: 38,\n  down: 40,\n  home: 36,\n  end: 35,\n  n: 78,\n  p: 80\n};\nexport var PopperPlacements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\nexport var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nexport function isReactRefObj(target) {\n  if (target && typeof target === 'object') {\n    return 'current' in target;\n  }\n\n  return false;\n}\n\nfunction getTag(value) {\n  if (value == null) {\n    return value === undefined ? '[object Undefined]' : '[object Null]';\n  }\n\n  return Object.prototype.toString.call(value);\n}\n\nexport function toNumber(value) {\n  var type = typeof value;\n  var NAN = 0 / 0;\n\n  if (type === 'number') {\n    return value;\n  }\n\n  if (type === 'symbol' || type === 'object' && getTag(value) === '[object Symbol]') {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf === 'function' ? value.valueOf() : value;\n    value = isObject(other) ? \"\" + other : other;\n  }\n\n  if (type !== 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(/^\\s+|\\s+$/g, '');\n  var isBinary = /^0b[01]+$/i.test(value);\n  return isBinary || /^0o[0-7]+$/i.test(value) ? parseInt(value.slice(2), isBinary ? 2 : 8) : /^[-+]0x[0-9a-f]+$/i.test(value) ? NAN : +value;\n}\nexport function isObject(value) {\n  var type = typeof value;\n  return value != null && (type === 'object' || type === 'function');\n}\nexport function isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n\n  var tag = getTag(value);\n  return tag === '[object Function]' || tag === '[object AsyncFunction]' || tag === '[object GeneratorFunction]' || tag === '[object Proxy]';\n}\nexport function findDOMElements(target) {\n  if (isReactRefObj(target)) {\n    return target.current;\n  }\n\n  if (isFunction(target)) {\n    return target();\n  }\n\n  if (typeof target === 'string' && canUseDOM) {\n    var selection = document.querySelectorAll(target);\n\n    if (!selection.length) {\n      selection = document.querySelectorAll(\"#\" + target);\n    }\n\n    if (!selection.length) {\n      throw new Error(\"The target '\" + target + \"' could not be identified in the dom, tip: check spelling\");\n    }\n\n    return selection;\n  }\n\n  return target;\n}\nexport function isArrayOrNodeList(els) {\n  if (els === null) {\n    return false;\n  }\n\n  return Array.isArray(els) || canUseDOM && typeof els.length === 'number';\n}\nexport function getTarget(target, allElements) {\n  var els = findDOMElements(target);\n\n  if (allElements) {\n    if (isArrayOrNodeList(els)) {\n      return els;\n    }\n\n    if (els === null) {\n      return [];\n    }\n\n    return [els];\n  } else {\n    if (isArrayOrNodeList(els)) {\n      return els[0];\n    }\n\n    return els;\n  }\n}\nexport var defaultToggleEvents = ['touchstart', 'click'];\nexport function addMultipleEventListeners(_els, handler, _events, useCapture) {\n  var els = _els;\n\n  if (!isArrayOrNodeList(els)) {\n    els = [els];\n  }\n\n  var events = _events;\n\n  if (typeof events === 'string') {\n    events = events.split(/\\s+/);\n  }\n\n  if (!isArrayOrNodeList(els) || typeof handler !== 'function' || !Array.isArray(events)) {\n    throw new Error(\"\\n      The first argument of this function must be DOM node or an array on DOM nodes or NodeList.\\n      The second must be a function.\\n      The third is a string or an array of strings that represents DOM events\\n    \");\n  }\n\n  Array.prototype.forEach.call(events, function (event) {\n    Array.prototype.forEach.call(els, function (el) {\n      el.addEventListener(event, handler, useCapture);\n    });\n  });\n  return function removeEvents() {\n    Array.prototype.forEach.call(events, function (event) {\n      Array.prototype.forEach.call(els, function (el) {\n        el.removeEventListener(event, handler, useCapture);\n      });\n    });\n  };\n}\nexport var focusableElements = ['a[href]', 'area[href]', 'input:not([disabled]):not([type=hidden])', 'select:not([disabled])', 'textarea:not([disabled])', 'button:not([disabled])', 'object', 'embed', '[tabindex]:not(.modal)', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])'];","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from 'react';\nimport {sortBy} from 'lodash';\nimport { fetchData, useSafeState } from 'library/common';\nimport { BrowseRequest } from './types';\nimport { config } from 'config';\nimport { UseFileManagerProps } from './types';\n\nexport const useFileManager = ({ selectable }: UseFileManagerProps) => {\n  const [showModalUploader, setShowModalUploader] = useState(false);\n  const [showEmbeddedUploader, setShowEmbeddedUploader] = useState(false);\n\n  const [browserInfo, setBrowserInfo] = useSafeState<BrowseRequest>({\n    files: [],\n    folders: []\n  });\n\n  const getDisplay = (key: string) => {\n    const split = key.split(\"/\");\n    return split[split.length - 1];\n  }\n  const browseFolder = async (folder: string) => {\n    const { data } = await fetchData<BrowseRequest>({\n      url: `${config.apiAssets}/browse/${folder}`\n    });\n    setBrowserInfo({\n      ...data,\n      files: sortBy(data.files.map(d => ({\n        ...d,\n        Display: getDisplay(d.Key),\n      })), f => f.Display ),\n    });\n  };\n\n  const handleShowUploader = (show: boolean) => {\n    if (selectable) {\n      setShowEmbeddedUploader(show)\n    } else {\n      setShowModalUploader(show)\n    }\n  }\n\n  // onSelectFiles?: (files: IFileWithMeta[]) => void;\n\n  useEffect(() => {\n    browseFolder('public');\n  }, [browseFolder])\n\n  return {\n    browserInfo,\n    showModalUploader,\n    showEmbeddedUploader,\n    setShowEmbeddedUploader,\n    toggleShowUploader: (show: boolean) => () => handleShowUploader(show),\n  }\n}","import React from 'react';\nimport { Modal, DropzoneUploader } from 'library/components';\n\ntype FileUploaderProps = {\n  show: boolean;\n  onClose: () => void;\n}\nexport const ModalFileUploader = ({show, onClose }: FileUploaderProps) => (\n  <Modal shown={show} onClose={onClose}>\n    <Modal.Header title=\"Upload files\" />\n    <Modal.Body>\n      <DropzoneUploader />\n    </Modal.Body>\n  </Modal>\n)","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { FileBoxProps } from './types';\n\nexport const FileBox = ({ file, selectable, onSelectFile }: FileBoxProps) => {\n  return (\n    <RootFileBox className=\"file-box\" selectable={selectable} >\n      <div className=\"file\">\n        <a href=\"#\">\n          <span className=\"corner\" />\n          <div className=\"image\" onClick={() => onSelectFile?.(file)}>\n            <img alt=\"some\" className=\"img-fluid img-thumbnail\" src={file.Url} />\n          </div>\n          <FileName className=\"file-name\">\n            {file.Display}\n            <i className=\"fa fa-trash icon-delete\" onClick={() => alert('under construction')} />\n            <br />\n            <small>updated: {moment(file.LastModified).format(\"MMM D\")}</small>\n          </FileName>\n        </a>\n      </div>\n    </RootFileBox>\n  )\n}\n\nconst RootFileBox = styled.div<{ selectable?: boolean}>`\n  cursor: pointer;\n  width: ${({ selectable }) => selectable ? '150px !important' : 'inherited'};\n  .file {\n    transition: all 0.3s;\n    &:hover {\n      ${({ selectable }) => selectable ? {\n        border: \"1px solid blue\"\n      } : {} }\n    }\n  }\n`;\nconst FileName = styled.div`\n  position: relative;\n  .icon-delete {\n    transition: all 0.3s;\n    position: absolute;\n    right: 0;\n    margin-right: 10px;\n    opacity: 0.1;\n    font-size: 16px;\n  }\n  &:hover {\n    .icon-delete {\n      opacity: 1;\n    }\n  }\n`;","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react';\nimport {FileBrowserProps} from './types';\nimport { FileBox } from './file-box';\n\nexport const FileBrowser = ({ data, selectable, onSelectFile }: FileBrowserProps) => {\n  return (\n    <div>\n      {data.files.map(f => (\n        <FileBox key={f.Url} file={f} selectable={selectable} onSelectFile={onSelectFile} />\n      ))}\n    </div>\n  )\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react';\nimport { Panel, Button } from 'library/components';\n\ntype FileBrowserMenuProps = {\n  displayUploader: () => void;\n}\nexport const FileBrowserMenu = ({ displayUploader }: FileBrowserMenuProps) => (\n  <Panel>\n    <Button block onClick={displayUploader} >Upload file</Button>\n    <hr className=\"hr-line-dashed\" />\n    <h5>Folders</h5>\n    <ul className=\"folder-list\" style={{padding: 0}}>\n      <li><a href=\"\"><i className=\"fa fa-folder-open\"></i> Public</a></li>\n    </ul>\n  </Panel>\n)","import React from 'react';\nimport styled from 'styled-components';\nimport { Col } from 'reactstrap';\nimport { DropzoneUploader, Button } from 'library/components';\nimport { useFileManager } from './use-file-manager';\nimport { ModalFileUploader } from './modal-file-uploader';\nimport { FileBrowser } from './file-browser';\nimport { FileBrowserMenu } from './file-browser-menu';\nimport { FileManagerProps, EmbeddedUploaderProps } from './types';\n\nexport const FileManagerCore = ({ selectable, onSelectFile }: FileManagerProps) => {\n\n  const { \n    toggleShowUploader, setShowEmbeddedUploader, showModalUploader, \n    showEmbeddedUploader, browserInfo,\n  } = useFileManager({ selectable });\n\n  return (\n    <>\n      <Col lg={3} className=\"d-flex flex-column\">\n        <FileBrowserMenu displayUploader={toggleShowUploader(true)} />\n      </Col>\n\n      <Col lg={9}>\n        {showEmbeddedUploader && (<EmbeddedUploader onCancel={() => setShowEmbeddedUploader(false)}/>)}\n        {!showEmbeddedUploader && (<FileBrowser data={browserInfo} selectable={selectable} onSelectFile={onSelectFile} />)}\n      </Col>\n      \n      {!selectable && showModalUploader && (\n        <ModalFileUploader show onClose={toggleShowUploader(false)} />\n      )}\n\n    </>\n  )\n}\n\nconst EmbeddedUploader = ({ onCancel }: EmbeddedUploaderProps) => {\n  return (\n    <>\n      <Actions>\n        <Button onClick={onCancel} outline size='sm' color='warning' >\n          <i className=\"fa fa-chevron-left\" aria-hidden=\"true\"></i> Back\n        </Button>\n      </Actions>\n      <br />\n      <div className=\"animated fadeInRight\">\n        <DropzoneUploader embedded />\n      </div>\n    </>\n  )\n}\n\nconst Actions = styled.div`\n  /* display: flex;\n  justify-content: flex-end; */\n`;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType, isObject } from './utils';\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps = PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string, PropTypes.shape({\n  size: PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string]),\n  order: stringOrNumberProp,\n  offset: stringOrNumberProp\n})]);\nvar propTypes = {\n  tag: tagPropType,\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  widths: PropTypes.array\n};\nvar defaultProps = {\n  tag: 'div',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : \"col-\" + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : \"col-\" + colWidth + \"-auto\";\n  }\n\n  return isXs ? \"col-\" + colSize : \"col-\" + colWidth + \"-\" + colSize;\n};\n\nvar Col = function Col(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      widths = props.widths,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"widths\", \"tag\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n\n    if (isObject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : \"-\" + colWidth + \"-\";\n      var colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, _classNames[colClass] = columnProp.size || columnProp.size === '', _classNames[\"order\" + colSizeInterfix + columnProp.order] = columnProp.order || columnProp.order === 0, _classNames[\"offset\" + colSizeInterfix + columnProp.offset] = columnProp.offset || columnProp.offset === 0, _classNames)), cssModule));\n    } else {\n      var _colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n\n      colClasses.push(_colClass);\n    }\n  });\n\n  if (!colClasses.length) {\n    colClasses.push('col');\n  }\n\n  var classes = mapToCssModules(classNames(className, colClasses), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCol.propTypes = propTypes;\nCol.defaultProps = defaultProps;\nexport default Col;"],"sourceRoot":""}