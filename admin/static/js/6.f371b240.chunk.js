(this["webpackJsonpcongolove-checkpoint-admin"]=this["webpackJsonpcongolove-checkpoint-admin"]||[]).push([[6],{175:function(e,t,n){"use strict";n.r(t),n.d(t,"OrderPage",(function(){return H}));var a=n(1),r=n(0),l=n.n(r),i=n(2),u=n(11);function c(){var e=Object(a.a)(['\n  height: 100%;\n\n  display: grid;\n  grid-template-columns: 3fr 1fr;\n  grid-template-rows: 1fr 4fr;\n  grid-gap: 30px;\n\n  grid-template-areas: \n    "header side"\n    "main side";\n\n  header {\n    grid-area: header;\n    ',";\n    display: flex;\n  }\n\n  main {\n    grid-area: main;\n  }\n\n  aside{\n    grid-area: side;\n    ","\n  }\n"]);return c=function(){return e},e}function o(){var e=Object(a.a)(["\n  border: 1px solid #e7eaec;\n  border-radius: 4px;\n  padding: 10px 20px;\n"]);return o=function(){return e},e}var d=Object(i.a)(o()),m=i.b.div(c(),d,d),s=n(43),v=n(71),p=function(){var e,t=Object(u.useDataPage)().item;return l.a.createElement(u.Table,{headers:["","Item","Qty",l.a.createElement(u.Table.NumericHeader,null,"Price"),l.a.createElement(u.Table.NumericHeader,null,"Total")],data:null!==(e=null===t||void 0===t?void 0:t.items)&&void 0!==e?e:[],row:function(e){var t,n,a=e.row,r=a.images?null===(t=a.images[0])||void 0===t?void 0:t.file.url:"";return l.a.createElement(u.Table.Row,null,l.a.createElement(u.Table.ImageColumn,{src:r}),l.a.createElement(u.Table.LinkColumn,{width:"30%",path:Object(s.a)(v.a.path,{id:a.product_id}),params:a},a.product_name),l.a.createElement(u.Table.TextColumn,null,null===(n=a.quantity)||void 0===n?void 0:n.toString()),l.a.createElement(u.Table.CurrencyColumn,{value:a.price}),l.a.createElement(u.Table.CurrencyColumn,{value:a.price_total}))}})},f=n(70),b=n.n(f);function E(){var e=Object(a.a)(["\n  flex: 1;\n  &:not(:last-child) {\n    border-right: 1px solid #dee2e6 !important;\n    margin-right: 40px;\n  }\n  .line {\n    line-height: 22px;\n  }\n"]);return E=function(){return e},e}var h=function(){var e=Object(u.useDataPage)().item;return e?l.a.createElement(l.a.Fragment,null,l.a.createElement(g,{title:"Created",lines:[b()(null===e||void 0===e?void 0:e.date_created).format("MMM D, YYYY"),b()(null===e||void 0===e?void 0:e.date_created).format("hh:mm a")]}),l.a.createElement(g,{title:"Updated",lines:[b()(null===e||void 0===e?void 0:e.date_updated).format("MMM D, YYYY"),b()(null===e||void 0===e?void 0:e.date_updated).format("hh:mm a")]}),l.a.createElement(g,{title:"Status",lines:[l.a.createElement("span",{className:"text-success"},(null===e||void 0===e?void 0:e.paid)?"Paid":"Unpaid"),l.a.createElement("span",{className:"text-success"},"complete"===(null===e||void 0===e?void 0:e.status)?"Fullfilled":null===e||void 0===e?void 0:e.status)]})):l.a.createElement(l.a.Fragment,null)},g=function(e){var t=e.title,n=e.lines;return l.a.createElement(x,{className:"header-item"},l.a.createElement("h3",null,t),n.map((function(e,t){return l.a.createElement("div",{className:"line",key:t},e)})))},x=i.b.div(E()),O=function(e){return Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)};function j(){var e=Object(a.a)(["\n  font-weight: ","\n"]);return j=function(){return e},e}function y(){var e=Object(a.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return y=function(){return e},e}function T(){var e=Object(a.a)(["\n  border: 1px solid #e7eaec;\n  border-radius: 4px;\n  padding: 20px 10px;\n"]);return T=function(){return e},e}var _=function(){var e=Object(u.useDataPage)().item;return l.a.createElement(w,null,l.a.createElement(N,{label:"Subtotal",value:O(null===e||void 0===e?void 0:e.sub_total)}),l.a.createElement(N,{label:"Shipping",value:(null===e||void 0===e?void 0:e.shipment_total)?O(null===e||void 0===e?void 0:e.shipment_total):"-"}),l.a.createElement(N,{label:"Taxes",value:(null===e||void 0===e?void 0:e.tax_total)?O(null===e||void 0===e?void 0:e.tax_total):"-"}),l.a.createElement("br",null),l.a.createElement(N,{label:"Total",total:!0,value:O(null===e||void 0===e?void 0:e.grand_total)}))},w=i.b.div(T()),N=function(e){var t=e.label,n=e.value,a=e.total,r=void 0!==a&&a;return l.a.createElement(P,null,l.a.createElement(C,{total:r},t),l.a.createElement(C,{total:r},n))},P=i.b.div(y()),C=i.b.h3(j(),(function(e){return e.total?800:400})),D=function(){return l.a.createElement("div",{className:"panel panel-default mt-4"},l.a.createElement("div",{className:"panel-heading"},l.a.createElement("h3",null,"Payment")),l.a.createElement("div",{className:"panel-body"},l.a.createElement("h3",null,"Credit card on file")))},S=n(5),k=n.n(S),Y=n(3),F=n(9),M=n(31),U=n(22);function I(){var e=Object(a.a)(["\n  .ibox-content {\n    display: flex;\n    flex-direction: column;\n  }\n"]);return I=function(){return e},e}var H=function(){var e=function(){var e=Object(M.b)().fetchData;return{afterFetch:function(){var t=Object(F.a)(k.a.mark((function t(n){var a,r,l;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.items.map((function(e){return e.product_id})),t.next=3,e({url:"".concat(U.a.apiSwell,"/products"),method:"POST",body:{paging:{limit:1e3},where:{id:{$in:a}}}});case 3:if(r=t.sent,(l=r.data.results).length){t.next=7;break}return t.abrupt("return",n);case 7:return t.abrupt("return",Object(Y.a)(Object(Y.a)({},n),{},{items:n.items.map((function(e){var t=l.find((function(t){return t.id===e.product_id}));return t?Object(Y.a)(Object(Y.a)({},e),{},{product_name:t.name,images:t.images}):e}))}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}().afterFetch;return l.a.createElement(u.DataPage,{model:"orders",onFetched:e},l.a.createElement(J,null,l.a.createElement(u.DataPageTitle,{onTitle:function(e){return"Order # ".concat(null===e||void 0===e?void 0:e.number)}}),l.a.createElement(m,{className:"container"},l.a.createElement("header",null,l.a.createElement(h,null)),l.a.createElement("main",null,l.a.createElement(p,null),l.a.createElement(_,null),l.a.createElement(D,null)),l.a.createElement("aside",null,"Side"))))},J=Object(i.b)(u.Panel)(I());t.default=H}}]);
//# sourceMappingURL=6.f371b240.chunk.js.map